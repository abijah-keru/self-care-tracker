<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Your Anchors - Your Self-Care Journey</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@400;600;700;800;900&family=Kalam:wght@300;400;700&display=swap" rel="stylesheet">

  <!-- PWA Manifest -->
  <link rel="manifest" href="manifest.json">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="theme-color" content="#4CA7A0">
   <link rel="icon" href="icons/icon-192.png" sizes="192x192">
  <link rel="apple-touch-icon" href="icons/icon-512.png">
</head>
<body>
  <!-- Splash Screen -->
  <div class="splash-screen" id="splashScreen">
    <div class="splash-content">
      <div class="splash-logo">🌱</div>
              <h1 class="splash-title">Your Anchors</h1>
      <p class="splash-message">This is your life companion for hard days, steady days, and dream days. Whether you need anchors, habits, or vision, it adapts to you.</p>
      <div class="splash-loader">
        <div class="loader-bar"></div>
      </div>
    </div>
  </div>

  <!-- Authentication Screen -->
  <div class="auth-screen" id="authScreen" style="display: none;">
      <div class="auth-content">
    <div class="auth-card">
      <!-- Gradient Header Section -->
      <div class="auth-header">
        <div class="auth-logo">🌱</div>
        <h2 class="auth-title">Your Anchors</h2>
      </div>
      
      <!-- Auth Tabs -->
      <div class="auth-tabs">
        <button class="auth-tab active" data-form="signin">Sign In</button>
        <button class="auth-tab" data-form="signup">Sign Up</button>
      </div>
      
      <div class="auth-container">
        <!-- Sign In Form -->
        <div class="auth-form" id="signinForm">
          <div class="float-field">
            <input type="email" id="signinEmailInput" placeholder=" " required />
            <label for="signinEmailInput">Email</label>
          </div>
          <div class="float-field">
            <input type="password" id="signinPasswordInput" placeholder=" " required />
            <label for="signinPasswordInput">Password</label>
          </div>
          
          <button id="signInBtn" class="auth-submit-btn">Sign In</button>
        </div>
        
        <!-- Sign Up Form -->
        <div class="auth-form" id="signupForm" style="display: none;">
          <div class="float-field">
            <input type="text" id="signupFirstNameInput" placeholder=" " required />
            <label for="signupFirstNameInput">First Name</label>
          </div>
          <div class="float-field">
            <input type="email" id="signupEmailInput" placeholder=" " required />
            <label for="signupEmailInput">Email</label>
        </div>
        <div class="float-field">
          <input type="password" id="signupPasswordInput" placeholder=" " required />
          <label for="signupPasswordInput">Password</label>
        </div>
        
        <button id="signUpBtn" class="auth-submit-btn">Sign Up</button>
      </div>
      
      <div class="auth-divider">— or —</div>
      
      <div class="social-auth">
        <button id="guestSignInBtn">👤 Continue as Guest</button>
      </div>
    </div>
  </div>
</div>
  </div>

  <!-- Bottom Navigation -->
  <nav class="bottom-nav" id="bottomNav" style="display: none;">
    <a href="#" class="nav-link bottom-nav-link" data-page="home" aria-label="Home">
      <span class="icon">🏠</span>
      <span class="label">Home</span>
    </a>
    
    <a href="#" class="nav-link bottom-nav-link" data-page="daily-anchors" aria-label="Your Anchors">
      <span class="icon">🎯</span>
      <span class="label">Anchors</span>
    </a>
    <a href="#" class="nav-link bottom-nav-link" data-page="habits" aria-label="Habits">
      <span class="icon">🌱</span>
      <span class="label">Habits</span>
    </a>
    <a href="#" class="nav-link bottom-nav-link" data-page="dream-life" aria-label="Dream Life">
      <span class="icon">🌟</span>
      <span class="label">Dream</span>
    </a>
  </nav>
  <button id="hamburgerBtn" class="hamburger-btn" aria-label="Menu">☰</button>
  <div id="hamburgerSheet" class="hamburger-sheet" aria-hidden="true">
    <div class="more-header">Menu</div>
    <div class="more-list">
      <a href="#" class="hamburger-item" data-page="profile"><span class="mi">👤</span> Profile</a>
      <a href="#" class="hamburger-item" data-page="about"><span class="mi">ℹ️</span> About</a>
      <a href="#" class="hamburger-item" data-page="contact"><span class="mi">📮</span> Contact Us</a>
        <div class="menu-divider"></div>
        <button id="signOutMenuBtn" class="hamburger-item sign-out-item">
          <span class="mi">→</span> Sign Out
        </button>
      </div>
  </div>

  <!-- Main Content Container -->
  <div class="main-content" id="mainContent" style="display: none;">
    
    <!-- Onboarding Overlay -->
    <div id="onboardingOverlay" class="onboarding-overlay" aria-hidden="true">
      <div class="onboarding-card-ui">
        <h3>Welcome!</h3>
        <div class="onboarding-steps">
          <div>🎯 Tap Anchors to check off today's habits</div>
          <div>📊 See your trends in Dashboard</div>
          <div>🌟 Explore your dreams and goals</div>
        </div>
        <div class="onboarding-actions">
          <button id="onboardingSkip" class="btn-secondary">Skip</button>
          <button id="onboardingGotIt" class="btn-primary">Got it</button>
        </div>
      </div>
    </div>

    <!-- New User Onboarding Flow -->
    <div id="newUserOnboarding" class="new-user-onboarding" aria-hidden="true">
      <div class="new-user-onboarding-card">
        <div class="onboarding-header">
          <h2>What do you need most right now?</h2>
          <p class="onboarding-subtitle">Choose your starting point for today's journey</p>
        </div>
        
        <div class="onboarding-options">
          <button class="onboarding-option" id="optionBalance">
            <div class="option-icon">🌱</div>
            <div class="option-content">
              <h3>Find my balance</h3>
              <p>Get grounded with simple daily practices</p>
            </div>
            <div class="option-arrow">→</div>
          </button>
          
          <button class="onboarding-option" id="optionDreams">
            <div class="option-icon">🌟</div>
            <div class="option-content">
              <h3>Start shaping my dream life</h3>
              <p>Explore what's possible for your future</p>
            </div>
            <div class="option-arrow">→</div>
          </button>
        </div>
        
        <div class="onboarding-footer">
          <label class="dont-ask-again">
            <input type="checkbox" id="dontAskAgain">
            <span class="checkmark"></span>
            Don't ask again
          </label>
        </div>
      </div>
    </div>




    
    <!-- Home Page - Transformed with Breathing Design -->
    <div id="home" class="page-section active">
      <!-- Hero Section: Full-screen personalized greeting -->
      <div class="hero-section">
        <div class="hero-background">
          <div class="breathing-gradient"></div>
          <div class="floating-shapes">
            <div class="shape shape-1"></div>
            <div class="shape shape-2"></div>
            <div class="shape shape-3"></div>
          </div>
        </div>
        
        <div class="hero-content">
          <div class="greeting-container">
            <h1 class="hero-greeting" id="heroGreeting">Good morning, Beautiful Soul ✨</h1>
            <p class="hero-insight" id="heroInsight">Ready for today?</p>
          </div>
        </div>
      </div>

      <!-- New User Home (Blank State) -->
      <div class="blank-state-home" id="blankStateHome" style="display: none;">
        <div class="compassionate-cards">
          <!-- Anchors Card -->
          <div class="compassionate-card anchors-card" onclick="navigateToPage('daily-anchors')">
            <div class="card-header">
              <div class="card-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
                </svg>
              </div>
              <div class="card-header-content">
                <h3>Your Anchors</h3>
                <p>Small steps that help when everything feels hard</p>
              </div>
            </div>
            <div class="card-arrow">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M5 12h14M12 5l7 7-7 7"/>
              </svg>
            </div>
          </div>

          <!-- Habits Card -->
          <div class="compassionate-card habits-card" onclick="navigateToPage('habits')">
            <div class="card-header">
              <div class="card-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M9 11l3 3L22 4M21 12v7a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2h11"/>
                  <path d="M9 11l3 3L22 4"/>
                </svg>
              </div>
              <div class="card-header-content">
                <h3>Your Habits</h3>
                <p>Start small, grow steadily, celebrate progress</p>
              </div>
            </div>
            <div class="card-arrow">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M5 12h14M12 5l7 7-7 7"/>
              </svg>
            </div>
          </div>

          <!-- Dream Card -->
          <div class="compassionate-card dream-card" onclick="navigateToPage('dream-life')">
            <div class="card-header">
              <div class="card-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                </svg>
              </div>
              <div class="card-header-content">
                <h3>Your Dreams</h3>
                <p>Dream it, plan it, create it step by step</p>
              </div>
            </div>
            <div class="card-arrow">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M5 12h14M12 5l7 7-7 7"/>
              </svg>
            </div>
          </div>
        </div>

        <div class="bottom-message">
          <p>Start wherever you are right now — there's no wrong place to begin your journey.</p>
        </div>
      </div>

      <!-- Returning User Home (Active State) -->
      <div class="active-state-home" id="activeStateHome" style="display: none;">
        <div class="progress-cards">
              <!-- Anchors Progress Card -->
    <div class="progress-card anchors-progress" onclick="navigateToPage('daily-anchors')">
      <div class="card-header">
        <div class="card-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
          </svg>
        </div>
        <div class="card-header-content">
          <h3>Your Anchors</h3>
        </div>
      </div>
      <div class="card-content">
        <div class="progress-summary" id="anchorsProgressSummary">
          <span class="summary-text">3 gentle actions ready • Used 1 anchor today 🌱</span>
          <div class="progress-indicator">
            <div class="progress-dots">
              <span class="dot active"></span>
              <span class="dot active"></span>
              <span class="dot"></span>
            </div>
          </div>
        </div>
      </div>
      <div class="card-arrow">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M5 12h14M12 5l7 7-7 7"/>
        </svg>
      </div>
    </div>

    <!-- Habits Progress Card -->
    <div class="progress-card habits-progress" onclick="navigateToPage('habits')">
      <div class="card-header">
        <div class="card-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M9 11l3 3L22 4M21 12v7a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2h11"/>
            <path d="M9 11l3 3L22 4"/>
          </svg>
        </div>
        <div class="card-header-content">
          <h3>Your Habits</h3>
        </div>
      </div>
      <div class="card-content">
        <div class="progress-summary" id="habitsProgressSummary">
          <span class="summary-text">2 habits growing • 🔥 5-day momentum</span>
          <div class="progress-indicator">
            <div class="weekly-progress">
              <span class="week-day">M</span>
              <span class="week-day">T</span>
              <span class="week-day">W</span>
              <span class="week-day">T</span>
              <span class="week-day">F</span>
              <span class="week-day">S</span>
              <span class="week-day">S</span>
            </div>
          </div>
        </div>
      </div>
      <div class="card-arrow">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M5 12h14M12 5l7 7-7 7"/>
        </svg>
      </div>
    </div>

    <!-- Dream Progress Card -->
    <div class="progress-card dream-progress" onclick="navigateToPage('dream-life')">
      <div class="card-header">
        <div class="card-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
          </svg>
        </div>
        <div class="card-header-content">
          <h3>Your Dreams</h3>
        </div>
      </div>
      <div class="card-content">
        <div class="progress-summary" id="dreamProgressSummary">
          <span class="summary-text">Dream vision written • 2 steps in progress ✨</span>
        </div>
      </div>
      <div class="card-arrow">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M5 12h14M12 5l7 7-7 7"/>
        </svg>
      </div>
    </div>
        </div>

        <div class="bottom-message" id="bottomMessage">
          <p>Every small step is moving you forward.</p>
        </div>
      </div>
      </div>
    </div>



    <!-- Daily Anchors Page - Enhanced with Breathing Interactions -->
    <div id="daily-anchors" class="page-section">
      <!-- Welcome message for first-time visitors -->
      <div id="anchorsWelcomeMessage" class="welcome-message" style="display: none;">
        <div class="welcome-content">
          <div class="welcome-icon">🌱</div>
          <h3>Welcome to Your Daily Anchors!</h3>
          <p>This is your space to build sustainable self-care habits. Start with the basics below and add your own as you discover what works for you.</p>
          <button class="welcome-dismiss" onclick="dismissWelcomeMessage('anchors')">Got it</button>
        </div>
      </div>
      
      <div class="anchors-header">
        <h1>Your Anchors</h1>
        <p class="anchors-subtitle">Small steps, big transformations</p>
        <p class="anchors-description">Pick-me-ups for when the day feels heavy</p>
      </div>
      
      <!-- Add Custom Anchor Card -->
      <div class="add-anchor-card" id="addAnchorRow">
        <div class="add-anchor-content">
          <span class="add-anchor-icon">➕</span>
          <input type="text" id="newAnchorInput" placeholder="Add a custom anchor (e.g., Meditate)" />
          <button id="addAnchorBtn" class="add-anchor-btn">Add</button>
        </div>
      </div>
      
      <!-- Pre-filled Anchor Items -->
      <div class="anchor" data-default="true" data-id="makeBed">
        <label class="anchor-label">
          <input type="checkbox" id="makeBed" class="anchor-checkbox">
          <span class="anchor-text">Make your bed</span>
        </label>
      </div>

      <div class="anchor" data-default="true" data-id="bodyMovement">
        <label class="anchor-label">
          <input type="checkbox" id="bodyMovement" class="anchor-checkbox">
          <span class="anchor-text">Move your body</span>
        </label>
      </div>
      
      <div class="anchor" data-default="true" data-id="musicDance">
        <label class="anchor-label">
          <input type="checkbox" id="musicDance" class="anchor-checkbox">
          <span class="anchor-text">Music / Dance</span>
        </label>
      </div>
      
      <div class="anchor" data-default="true" data-id="watchShow">
        <label class="anchor-label">
          <input type="checkbox" id="watchShow" class="anchor-checkbox">
          <span class="anchor-text">Watch something you enjoy</span>
        </label>
      </div>
      
      <div class="anchor" data-default="true" data-id="journalAboutApp">
        <label class="anchor-label">
          <input type="checkbox" id="journalAboutApp" class="anchor-checkbox">
          <span class="anchor-text">Journal your thoughts</span>
        </label>
      </div>

      <div class="anchor" data-default="true" data-id="selfCare">
        <label class="anchor-label">
          <input type="checkbox" id="selfCare" class="anchor-checkbox">
          <span class="anchor-text">Self-care</span>
        </label>
      </div>

      <!-- Progress Section -->
      <div class="anchors-progress">
        <div class="progress-text" id="progressIndicator">Completed 0 of 6 — every step counts 🌱</div>
        <div class="progress-bar-subtle">
          <div class="progress-fill-subtle" id="progressFill"></div>
        </div>
      </div>

      <!-- Reset Option -->
      <div class="reset-section">
        <button id="resetBtn" class="start-fresh-btn">
          <span class="btn-icon">🔄</span>
          <span class="btn-text">Start Fresh</span>
        </button>
      </div>

      <!-- Gentle Streak Tracker -->
      <div class="streak-section" id="streakSection">
        <div class="streak-message" id="streakMessage">You've anchored for 0 days 🌿 Keep going at your own pace.</div>
      </div>
    </div>

    <!-- Habits Page - Growth Mode Habit Tracking -->
    <div id="habits" class="page-section">
      <!-- Header -->
      <div class="habits-header">
        <h1>Habits</h1>
      </div>

      <!-- Progress Summary -->
      <div class="habits-progress-summary">
        <div class="progress-stats">
          <div class="stat-item">
            <div class="stat-value" id="totalHabitsCount">0</div>
            <div class="stat-label">Active Habits</div>
          </div>
          <div class="stat-item highlight">
            <div class="stat-value" id="longestStreak">0</div>
            <div class="stat-label">Longest Streak</div>
          </div>
        </div>
        <div class="motivational-message">
          Consistency matters more than perfection ✨
        </div>
      </div>

      <!-- Habits List -->
      <div class="habits-list" id="habitsList">
        <!-- Habits will be dynamically added here -->
        <div class="empty-habits-state" id="emptyHabitsState">
          <div class="empty-icon">🌱</div>
          <h3>No habits yet</h3>
          <p>Start building your growth habits by tapping the + button</p>
        </div>
      </div>

      <!-- Floating Add Button -->
      <button id="floatingAddHabitBtn" class="floating-add-btn" aria-label="Add new habit">
        <span class="floating-add-icon">+</span>
      </button>
    </div>

    <!-- Dream Life Page - Enhanced with Interactive Life Planning -->
    <div id="dream-life" class="page-section">
      <!-- Welcome message for first-time visitors -->
      <div id="dreamsWelcomeMessage" class="welcome-message" style="display: none;">
        <div class="welcome-content">
          <div class="welcome-icon">🌟</div>
          <h3>Welcome to Your Dream Life Vision!</h3>
          <p>This is your space to explore what's possible and break down your dreams into actionable steps. Take your time - there's no rush to figure everything out at once.</p>
          <button class="welcome-dismiss" onclick="dismissWelcomeMessage('dreams')">Got it</button>
        </div>
      </div>
      
      <div class="dream-header">
      <h1>Your Dream Life Vision</h1>
        <p class="dream-intro">
          This space helps you pause, envision your dream life across key areas, and break it down into actionable steps.
        </p>
      </div>
      
      <div class="dream-categories">
        <!-- Career & Purpose -->
        <div class="dream-category" data-category="career">
          <div class="category-header" onclick="toggleCategory('career')">
            <div class="category-title-row">
              <div class="category-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                </svg>
              </div>
              <h3>Career & Purpose</h3>
              <span class="expand-icon">▼</span>
            </div>
          </div>
          <div class="category-content" style="display: none;">
                    <div class="vision-section">
          <label for="careerVision">What does your ideal career and life purpose look like?</label>
          <textarea id="careerVision" placeholder="Envision your dream career, the impact you want to make, and how you want to spend your working hours..."></textarea>
          <div class="vision-controls">
            <button class="btn-save" onclick="saveVision('career')">Save & Review</button>
          </div>
          <div class="vision-display-mode" id="careerVisionDisplay" style="display: none;">
            <div class="vision-text-display" id="careerVisionTextDisplay"></div>
            <div class="vision-controls-display">
              <span class="saved-indicator" style="display: none; opacity: 0;">✓ Saved</span>
              <button class="btn-edit" onclick="enterEditMode('career')">Edit</button>
            </div>
          </div>
        </div>
                      <div class="action-items-section">
            <h4>Action Steps</h4>
            <div class="add-action-item">
              <textarea class="action-input-textarea" id="careerActionInput" placeholder="Add a new action step..." rows="1"></textarea>
              <button type="button" onclick="addActionItem('career')" class="btn-primary">Add Action Step</button>
            </div>
            <div id="careerActionList" class="action-items-list">
              <div class="empty-state">No action steps yet. Add your first step above! ✨</div>
            </div>
            
            <!-- Progress indicator moved here -->
            <div class="category-progress">
              <span class="progress-text">0 of 0 completed</span>
            </div>
          </div>
          </div>
        </div>

        <!-- Relationships & Social Life -->
        <div class="dream-category" data-category="relationships">
          <div class="category-header" onclick="toggleCategory('relationships')">
            <div class="category-title-row">
              <div class="category-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                  <circle cx="9" cy="7" r="4"/>
                  <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
                  <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
                </svg>
              </div>
              <h3>Relationships & Social Life</h3>
              <span class="expand-icon">▼</span>
            </div>
          </div>
          <div class="category-content" style="display: none;">
                    <div class="vision-section">
          <label for="relationshipsVision">Envision your ideal relationships and social connections...</label>
          <textarea id="relationshipsVision" placeholder="What kind of relationships do you want to cultivate? How do you want to feel in your social connections?"></textarea>
          <div class="vision-controls">
            <button class="btn-save" onclick="saveVision('relationships')">Save & Review</button>
          </div>
          <div class="vision-display-mode" id="relationshipsVisionDisplay" style="display: none;">
            <div class="vision-text-display" id="relationshipsVisionTextDisplay"></div>
            <div class="vision-controls-display">
              <span class="saved-indicator" style="display: none; opacity: 0;">✓ Saved</span>
              <button class="btn-edit" onclick="enterEditMode('relationships')">Edit</button>
            </div>
          </div>
        </div>
                      <div class="action-items-section">
            <h4>Action Steps</h4>
            <div class="add-action-item">
              <textarea class="action-input-textarea" id="relationshipsActionInput" placeholder="Add a new action step..." rows="1"></textarea>
              <button type="button" onclick="addActionItem('relationships')" class="btn-primary">Add Action Step</button>
            </div>
            <div id="relationshipsActionList" class="action-items-list">
              <div class="empty-state">No action steps yet. Add your first step above! ✨</div>
            </div>
            
            <!-- Progress indicator moved here -->
            <div class="category-progress">
              <span class="progress-text">0 of 0 completed</span>
            </div>
          </div>
          </div>
        </div>

        <!-- Personal Growth & Hobbies -->
        <div class="dream-category" data-category="personalGrowth">
          <div class="category-header" onclick="toggleCategory('personalGrowth')">
            <div class="category-title-row">
              <div class="category-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                  <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                </svg>
              </div>
              <h3>Personal Growth & Hobbies</h3>
              <span class="expand-icon">▼</span>
            </div>
          </div>
          <div class="category-content" style="display: none;">
                    <div class="vision-section">
          <label for="personalGrowthVision">What personal growth and creative pursuits call to you?</label>
          <textarea id="personalGrowthVision" placeholder="What skills do you want to develop? What creative outlets call to your soul?"></textarea>
          <div class="vision-controls">
            <button class="btn-save" onclick="saveVision('personalGrowth')">Save & Review</button>
          </div>
          <div class="vision-display-mode" id="personalGrowthVisionDisplay" style="display: none;">
            <div class="vision-text-display" id="personalGrowthVisionTextDisplay"></div>
            <div class="vision-controls-display">
              <span class="saved-indicator" style="display: none; opacity: 0;">✓ Saved</span>
              <button class="btn-edit" onclick="enterEditMode('personalGrowth')">Edit</button>
            </div>
          </div>
        </div>
                      <div class="action-items-section">
            <h4>Action Steps</h4>
            <div class="add-action-item">
              <textarea class="action-input-textarea" id="personalGrowthActionInput" placeholder="Add a new action step..." rows="1"></textarea>
              <button type="button" onclick="addActionItem('personalGrowth')" class="btn-primary">Add Action Step</button>
            </div>
            <div id="personalGrowthActionList" class="action-items-list">
              <div class="empty-state">No action steps yet. Add your first step above! ✨</div>
            </div>
            
            <!-- Progress indicator moved here -->
            <div class="category-progress">
              <span class="progress-text">0 of 0 completed</span>
            </div>
          </div>
      </div>
    </div>
    
    <!-- Add Custom Category Card -->
    <div class="add-category-card" onclick="showAddCategoryModal()">
      <div class="add-category-content">
        <span class="add-category-icon">➕</span>
        <h3>Add Custom Category</h3>
        <p>Create your own life area to focus on</p>
      </div>
    </div>
  </div>
</div>

<!-- Add Habit Modal -->
<div id="addHabitModal" class="modal-overlay" style="display: none;">
  <div class="modal-content">
    <div class="modal-header">
      <h3>Create New Habit</h3>
      <button class="modal-close" onclick="hideAddHabitModal()">✕</button>
    </div>
    <div class="modal-body">
      <div class="form-group">
        <label for="habitName">Habit Name *</label>
        <input type="text" id="habitName" placeholder="e.g., Meditate 10 min" maxlength="100">
      </div>
      <div class="form-group">
        <label for="habitFrequency">Frequency *</label>
        <select id="habitFrequency">
          <option value="daily">Daily</option>
          <option value="3x-week">3x per week</option>
          <option value="5x-week">5x per week</option>
          <option value="custom">Custom</option>
        </select>
      </div>
      <div class="form-group" id="customFrequencyGroup" style="display: none;">
        <label for="customFrequency">Custom Frequency</label>
        <input type="text" id="customFrequency" placeholder="e.g., Every Monday and Wednesday" maxlength="100">
      </div>
      <div class="form-group">
        <label for="habitWhy">Why is this important to you?</label>
        <textarea id="habitWhy" placeholder="This helps you stay motivated when things get tough..." rows="3" maxlength="200"></textarea>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn-secondary" onclick="hideAddHabitModal()">Cancel</button>
      <button class="btn-primary" onclick="createHabit()">Create Habit</button>
    </div>
  </div>
</div>

<!-- Add Category Modal -->
<div id="addCategoryModal" class="modal-overlay" style="display: none;">
  <div class="modal-content">
    <div class="modal-header">
      <h3>Add New Category</h3>
      <button class="modal-close" onclick="hideAddCategoryModal()">✕</button>
    </div>
    <div class="modal-body">
      <div class="form-group">
        <label for="categoryName">Category Name *</label>
        <input type="text" id="categoryName" placeholder="e.g., Travel & Adventure" maxlength="50">
      </div>
      <div class="form-group">
        <label for="categoryIcon">Icon (Emoji)</label>
        <input type="text" id="categoryIcon" placeholder="🌟" maxlength="2">
      </div>
      <div class="form-group">
        <label for="categoryPlaceholder">Vision Placeholder Text</label>
        <textarea id="categoryPlaceholder" placeholder="What would you like users to think about for this category?" rows="3"></textarea>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn-secondary" onclick="hideAddCategoryModal()">Cancel</button>
      <button class="btn-primary" onclick="createCustomCategory()">Create Category</button>
    </div>
  </div>
</div>

<!-- Vision Review Modal - No longer needed with new display mode approach -->

<!-- About Page -->
    <div id="about" class="page-section">
      <h1>About Your Anchors</h1>
      <div class="about-content">
        <h2>Our Mission</h2>
        <p class="section-description">
          Your Anchors is designed to help you build sustainable self-care habits that anchor you to your best self. 
          We believe that small, consistent actions compound into extraordinary transformations.
        </p>

        <h2>Why Your Anchors?</h2>
        <p class="section-description">
          In our fast-paced world, it's easy to neglect the fundamental practices that keep us grounded, healthy, and happy. 
          Your Anchors serves as your gentle reminder and tracking companion, helping you stay connected to what truly matters.
        </p>

        <div class="features-highlight">
          <h3>✨ Key Features</h3>
          <ul class="features-list">
            <li>🎯 Simple, intuitive habit tracking</li>
            <li>📱 Progressive Web App - works offline</li>
            <li>🔄 Sync across all your devices</li>
            <li>📊 Visual progress tracking</li>
            <li>🎉 Celebration of wins, big and small</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Profile Page (with Settings inside) -->
    <div id="profile" class="page-section">
      <h1>Your Profile</h1>
      <div class="profile-card">
        <div class="profile-header">
          <div class="avatar" id="profileAvatar">🌱</div>
          <div class="profile-basic">
            <div class="profile-name" id="profileName">Anonymous User</div>
            <div class="profile-email" id="profileEmail">—</div>
          </div>
        </div>
        <div class="profile-actions">
          <button id="editProfileBtn" class="btn-secondary">Edit Profile</button>
        </div>
      </div>

      <h2 style="margin-top: 20px;">Settings</h2>
      <div class="settings-card">
      <div class="settings-section">
          <h3>Appearance</h3>
          <div class="setting-row">
            <label for="themeSelect">Theme</label>
            <select id="themeSelect">
              <option value="system">System</option>
              <option value="light">Light</option>
              <option value="dark">Dark</option>
            </select>
          </div>
        </div>

        <div class="settings-section">
          <h3>Notifications</h3>
          <div class="setting-row">
            <label for="dailyReminder">Daily Reminder</label>
            <input type="time" id="dailyReminder" />
          </div>
        </div>


      </div>
    </div>

    <!-- Contact Page -->
    <div id="contact" class="page-section">
      <h1>Contact Us</h1>
      <p class="contact-intro">
        We'd love to hear from you! Share your feedback, suggestions, or just say hello.
      </p>

      <div class="contact-form">
        <form id="contactForm">
          <div class="form-group float-field">
            <input type="text" id="name" name="name" placeholder=" " required>
            <label for="name">Name</label>
          </div>
          
          <div class="form-group float-field">
            <input type="email" id="email" name="email" placeholder=" " required>
            <label for="email">Email</label>
          </div>
          
          <div class="form-group float-field">
            <input type="text" id="subject" name="subject" placeholder=" " required>
            <label for="subject">Subject</label>
          </div>
          
          <div class="form-group float-field">
            <textarea id="contactMessage" name="message" placeholder=" " required></textarea>
            <label for="contactMessage">Message</label>
          </div>
          
          <div class="form-submit">
            <button type="submit" class="submit-btn">Send Message</button>
          </div>
        </form>
      </div>

      <div class="contact-info">
        <h3>Other Ways to Connect</h3>
        <p>📧 support@dailyanchors.app</p>
        <p>🌐 Follow us for updates and inspiration</p>
      </div>
    </div>

  </div>

  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  <script src="script.js"></script>
  
  <script>
    // Global functions for modal operations
    function hideAddHabitModal() {
      const modal = document.getElementById('addHabitModal');
      if (modal) {
        modal.style.display = 'none';
        modal.setAttribute('aria-hidden', 'true');
      }
    }
    
    function createHabit() {
      if (typeof window.createHabit === 'function') {
        window.createHabit();
      }
    }
    
    function editHabit(habitId) {
      if (typeof window.editHabit === 'function') {
        window.editHabit(habitId);
      }
    }
    
    function deleteHabit(habitId) {
      if (typeof window.deleteHabit === 'function') {
        window.deleteHabit(habitId);
      }
    }
    
    function toggleHabitCompletion(habitId) {
      if (typeof window.toggleHabitCompletion === 'function') {
        window.toggleHabitCompletion(habitId);
      }
    }
  </script>
</body>
</html>