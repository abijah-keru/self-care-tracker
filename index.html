<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Daily Anchors - Your Self-Care Journey</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@400;600;700;800;900&family=Kalam:wght@300;400;700&display=swap" rel="stylesheet">

  <!-- PWA Manifest -->
  <link rel="manifest" href="manifest.json">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="theme-color" content="#4CA7A0">
   <link rel="icon" href="icons/icon-192.png" sizes="192x192">
  <link rel="apple-touch-icon" href="icons/icon-512.png">
</head>
<body>
  <!-- Splash Screen -->
  <div class="splash-screen" id="splashScreen">
    <div class="splash-content">
      <div class="splash-logo">🌱</div>
      <h1 class="splash-title">Daily Anchors</h1>
      <p class="splash-message">Building your <u>best self</u>, one day at a time</p>
      <div class="splash-loader">
        <div class="loader-bar"></div>
      </div>
    </div>
  </div>

  <!-- Authentication Screen -->
  <div class="auth-screen" id="authScreen" style="display: none;">
    <div class="auth-content">
      <div class="auth-logo">🌱</div>
      <h2 class="auth-title">Daily Anchors</h2>
      <p class="auth-subtitle">Sign in to your self-care journey</p>
      
      <div class="auth-container">
        <div class="float-field">
          <input type="email" id="emailInput" placeholder=" " required />
          <label for="emailInput">Email</label>
        </div>
        <div class="float-field">
          <input type="password" id="passwordInput" placeholder=" " required />
          <label for="passwordInput">Password</label>
        </div>
        
        <div class="auth-buttons">
          <button id="signInBtn">Sign In</button>
          <button id="signUpBtn">Sign Up</button>
        </div>
        
        <div class="auth-divider">— or —</div>
        
        <div class="social-auth">
          <button id="googleSignInBtn">🔍 Sign in with Google</button>
          <button id="guestSignInBtn">👤 Continue as Guest</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Bottom Navigation -->
  <nav class="bottom-nav" id="bottomNav" style="display: none;">
    <a href="#" class="nav-link bottom-nav-link" data-page="dashboard" aria-label="Your Wins">
      <span class="icon">🏆</span>
      <span class="label">Your Wins</span>
    </a>
    <a href="#" class="nav-link bottom-nav-link" data-page="daily-anchors" aria-label="Daily Anchors">
      <span class="icon">🎯</span>
      <span class="label">Anchors</span>
    </a>
    <a href="#" class="nav-link bottom-nav-link" data-page="mood-booster" aria-label="Mood Booster">
      <span class="icon">✨</span>
      <span class="label">Booster</span>
    </a>
    <a href="#" class="nav-link bottom-nav-link" data-page="dream-life" aria-label="Dream Life">
      <span class="icon">🌟</span>
      <span class="label">Dream</span>
    </a>
  </nav>
  <button id="hamburgerBtn" class="hamburger-btn" aria-label="Menu">☰</button>
  <div id="hamburgerSheet" class="hamburger-sheet" aria-hidden="true">
    <div class="more-header">Menu</div>
    <div class="more-list">
      <a href="#" class="hamburger-item" data-page="profile"><span class="mi">👤</span> Profile</a>
      <a href="#" class="hamburger-item" data-page="about"><span class="mi">ℹ️</span> About</a>
      <a href="#" class="hamburger-item" data-page="contact"><span class="mi">📮</span> Contact Us</a>
    </div>
  </div>

  <!-- Main Content Container -->
  <div class="main-content" id="mainContent" style="display: none;">
    <nav class="breadcrumbs" id="breadcrumbs"></nav>
    
    <!-- Onboarding Overlay -->
    <div id="onboardingOverlay" class="onboarding-overlay" aria-hidden="true">
      <div class="onboarding-card-ui">
        <h3>Welcome!</h3>
        <div class="onboarding-steps">
          <div>🎯 Tap Anchors to check off today's habits</div>
          <div>📊 See your trends in Dashboard</div>
          <div>✨ Need a nudge? Try Mood Booster</div>
        </div>
        <div class="onboarding-actions">
          <button id="onboardingSkip" class="btn-secondary">Skip</button>
          <button id="onboardingGotIt" class="btn-primary">Got it</button>
        </div>
      </div>
    </div>

    <!-- Coach Tutorial Overlay (hidden by default) -->
    <div id="coachOverlay" class="coach-overlay" style="display:none;" aria-hidden="true"></div>
    
    <!-- Home Page - Transformed with Breathing Design -->
    <div id="home" class="page-section active">
      <!-- Hero Section: Full-screen personalized greeting -->
      <div class="hero-section">
        <div class="hero-background">
          <div class="breathing-gradient"></div>
          <div class="floating-shapes">
            <div class="shape shape-1"></div>
            <div class="shape shape-2"></div>
            <div class="shape shape-3"></div>
          </div>
        </div>
        
        <div class="hero-content">
          <div class="greeting-container">
            <h1 class="hero-greeting" id="heroGreeting">Good morning, Beautiful Soul ✨</h1>
            <p class="hero-insight" id="heroInsight">Yesterday you chose to care for yourself - how beautiful is that?</p>
          </div>
          
          <!-- Mood Check-in Interaction -->
          <div class="mood-checkin">
            <h3 class="mood-title">How are you feeling right now?</h3>
            <div class="mood-emoji-grid">
              <button class="mood-emoji" data-mood="amazing" aria-label="Feeling amazing">
                <span class="emoji">😊</span>
                <span class="mood-label">Amazing</span>
              </button>
              <button class="mood-emoji" data-mood="good" aria-label="Feeling good">
                <span class="emoji">😌</span>
                <span class="mood-label">Good</span>
              </button>
              <button class="mood-emoji" data-mood="okay" aria-label="Feeling okay">
                <span class="emoji">😐</span>
                <span class="mood-label">Okay</span>
              </button>
              <button class="mood-emoji" data-mood="rough" aria-label="Having a rough time">
                <span class="emoji">😔</span>
                <span class="mood-label">Rough</span>
              </button>
              <button class="mood-emoji" data-mood="struggling" aria-label="Really struggling">
                <span class="emoji">😢</span>
                <span class="mood-label">Struggling</span>
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Personal Reflection Zone -->
      <div class="reflection-zone">
        <!-- Recent Win Celebration -->
        <div class="celebration-card" id="celebrationCard">
          <div class="celebration-icon">🎉</div>
          <h3>Celebrating You!</h3>
          <p class="celebration-text" id="celebrationText">You're building something beautiful, one day at a time</p>
          <div class="celebration-sparkles">
            <span class="sparkle">✨</span>
            <span class="sparkle">✨</span>
            <span class="sparkle">✨</span>
          </div>
        </div>

        <!-- Gentle Nudge -->
        <div class="nudge-card" id="nudgeCard">
          <div class="nudge-icon">💭</div>
          <h3>Gentle Reminder</h3>
          <p class="nudge-text" id="nudgeText">Take a deep breath. You're exactly where you need to be.</p>
        </div>

        <!-- Energy Check -->
        <div class="energy-card">
          <h3>Energy Check</h3>
          <div class="energy-slider-container">
            <input type="range" id="energySlider" min="1" max="10" value="7" class="energy-slider">
            <div class="energy-labels">
              <span>Low</span>
              <span>High</span>
            </div>
            <div class="energy-value" id="energyValue">7/10</div>
          </div>
        </div>

        <!-- Quick Actions -->
        <div class="quick-actions">
          <h3>Quick Actions</h3>
          <div class="action-buttons">
            <button class="action-btn" data-action="meditate">
              <span class="action-icon">🧘</span>
              <span class="action-text">Meditate</span>
            </button>
            <button class="action-btn" data-action="journal">
              <span class="action-icon">📝</span>
              <span class="action-text">Journal</span>
            </button>
            <button class="action-btn" data-action="walk">
              <span class="action-icon">🚶</span>
              <span class="action-text">Walk</span>
            </button>
            <button class="action-btn" data-action="gratitude">
              <span class="action-icon">🙏</span>
              <span class="action-text">Gratitude</span>
            </button>
          </div>
        </div>
      </div>

      <!-- Navigation & Discovery -->
      <div class="discovery-zone">
        <!-- Smart Suggestions -->
        <div class="suggestions-card">
          <h3>Today's Suggestions</h3>
          <div class="suggestion-list" id="suggestionList">
            <div class="suggestion-item">
              <span class="suggestion-icon">🌅</span>
              <span class="suggestion-text">Morning sunlight for 10 minutes</span>
            </div>
            <div class="suggestion-item">
              <span class="suggestion-icon">💧</span>
              <span class="suggestion-text">Drink a glass of water</span>
            </div>
            <div class="suggestion-item">
              <span class="suggestion-icon">🫂</span>
              <span class="suggestion-text">Give yourself a hug</span>
            </div>
          </div>
        </div>

        <!-- Today's Intention -->
        <div class="intention-card">
          <h3>Today's Intention</h3>
          <div class="intention-input-container">
            <input type="text" id="intentionInput" placeholder="What would you like to focus on today?" class="intention-input">
            <button id="setIntentionBtn" class="intention-btn">Set</button>
          </div>
          <div class="current-intention" id="currentIntention" style="display: none;">
            <span class="intention-label">Today's focus:</span>
            <span class="intention-text" id="intentionText"></span>
          </div>
        </div>
      </div>

      <!-- Onboarding Card (Hidden by default) -->
      <div class="onboarding-card" id="onboardingCard" style="display:none;">
        <h3 class="section-header">Getting Started</h3>
        <p>Welcome! Here are a few quick steps to begin:</p>
        <ul>
          <li>Go to Daily Anchors and check what you complete today</li>
          <li>Set a daily reminder time in Profile → Settings</li>
          <li>Visit Dashboard to see your progress over time</li>
        </ul>
        <div style="margin-top:12px; display:flex; gap:8px;">
          <button id="onboardingStartBtn" class="btn-secondary">Go to Daily Anchors</button>
          <button id="onboardingDismissBtn" class="btn-primary">Got it</button>
        </div>
      </div>
    </div>

    <!-- Your Wins Page - Enhanced with Organic Visualizations -->
    <div id="dashboard" class="page-section">
      <div class="wins-header">
        <h1 class="wins-title">Your Wins</h1>
        <p class="wins-subtitle">Celebrating your self-care journey</p>
      </div>
      
      <!-- Wins Grid with Organic Shapes -->
      <div class="wins-grid" id="winsGrid">
        <div class="win-card streak organic-card">
          <div class="organic-progress">
            <div class="progress-flame" id="streakFlame">🔥</div>
          </div>
          <div class="win-label">Current Streak</div>
          <div class="win-value" id="currentStreakValue">0 Days Strong</div>
          <div class="win-description">Keep the momentum going!</div>
        </div>
        
        <div class="win-card weekly organic-card">
          <div class="organic-progress">
            <div class="progress-plant" id="weeklyPlant">🌱</div>
          </div>
          <div class="win-label">This Week</div>
          <div class="win-value" id="weeklyValue">0/0 Anchors</div>
          <div class="win-description">You're doing amazing this week</div>
        </div>
        
        <div class="win-card total organic-card">
          <div class="organic-progress">
            <div class="progress-star" id="totalStar">⭐</div>
          </div>
          <div class="win-label">Total Anchors</div>
          <div class="win-value" id="totalValue">0 Life Moments</div>
          <div class="win-description">Every single one counts</div>
        </div>
        
        <div class="win-card best-streak organic-card">
          <div class="organic-progress">
            <div class="progress-trophy" id="bestTrophy">🏆</div>
          </div>
          <div class="win-label">Personal Best</div>
          <div class="win-value" id="bestStreakValue">0 Days</div>
          <div class="win-description">You've got this!</div>
        </div>
        
        <div class="win-card monthly organic-card">
          <div class="organic-progress">
            <div class="progress-chart" id="monthlyChart">📈</div>
          </div>
          <div class="win-label">This Month</div>
          <div class="win-value" id="monthlyValue">0%</div>
          <div class="win-description">Consistency is key</div>
        </div>
        
        <div class="win-card favorite organic-card">
          <div class="organic-progress">
            <div class="progress-heart" id="favoriteHeart">❤️</div>
          </div>
          <div class="win-label">Favorite Anchor</div>
          <div class="win-value" id="favoriteValue">Keep tracking!</div>
          <div class="win-description">Your go-to daily win</div>
        </div>
      </div>

      <!-- Recent Activity -->
      <div class="recent-activity">
        <div class="activity-header">
          <span style="font-size: 1.5rem;">📅</span>
          <h2 class="activity-title">Recent Activity</h2>
        </div>
        
        <div id="activityContent">
          <ul class="activity-list" id="recentActivityList">
            <!-- Dynamically populated -->
          </ul>
          
          <div class="empty-state" id="dashboardEmptyState" style="display: none;">
            <div class="empty-emoji">🌱</div>
            <p>You're just getting started — your progress will show here.</p>
            <div class="empty-actions">
              <button class="btn btn-primary" id="emptyGoAnchorsBtn">Start Today's Anchors</button>
              <button class="btn btn-secondary" id="emptySetReminderBtn">Set Daily Reminder</button>
            </div>
          </div>
          
          <div class="loading-state" id="dashboardLoadingState" style="display: none;">Loading...</div>
        </div>
      </div>
    </div>

    <!-- Daily Anchors Page - Enhanced with Breathing Interactions -->
    <div id="daily-anchors" class="page-section">
      <div class="anchors-header">
      <h1>Today's Anchors</h1>
        <p class="anchors-subtitle">Small steps, big transformations</p>
      </div>
      
      <div class="anchor" id="addAnchorRow">
        <label style="flex:1; display:flex; align-items:center; gap:8px;">
          <span class="icon-inline">➕</span>
          <input type="text" id="newAnchorInput" placeholder="Add a custom anchor (e.g., Meditate)" style="flex:1; border:1px solid #D0D5DD; border-radius:8px; padding:8px; font-size:16px;" />
        </label>
        <button id="addAnchorBtn" class="btn-primary" style="flex:0 0 auto;">Add</button>
      </div>
      
      <div class="anchor" data-default="true" data-id="makeBed">
        <label><input type="checkbox" id="makeBed"> Make bed</label>
        <button data-action="remove" class="btn-danger remove-anchor-btn" style="display: none; margin-left:8px; flex:0 0 auto;">Remove</button>
      </div>
      <div class="anchor" data-default="true" data-id="drinkWater">
        <label><input type="checkbox" id="drinkWater"> Take water</label>
        <button data-action="remove" class="btn-danger remove-anchor-btn" style="display: none; margin-left:8px; flex:0 0 auto;">Remove</button>
      </div>
      <div class="anchor" data-default="true" data-id="chooseClothes">
        <label><input type="checkbox" id="chooseClothes"> Choose clothes of the day</label>
        <button data-action="remove" class="btn-danger remove-anchor-btn" style="display: none; margin-left:8px; flex:0 0 auto;">Remove</button>
      </div>
      <div class="anchor" data-default="true" data-id="bodyMovement">
        <label><input type="checkbox" id="bodyMovement"> Body movement</label>
        <button data-action="remove" class="btn-danger remove-anchor-btn" style="display: none; margin-left:8px; flex:0 0 auto;">Remove</button>
      </div>
      <div class="anchor" data-default="true" data-id="musicDance">
        <label><input type="checkbox" id="musicDance"> Music / Dance</label>
        <button data-action="remove" class="btn-danger remove-anchor-btn" style="display: none; margin-left:8px; flex:0 0 auto;">Remove</button>
      </div>
      <div class="anchor" data-default="true" data-id="watchShow">
        <label>
          <input type="checkbox" id="watchShow"> Watch TV show
        </label>
        <input type="text" id="watchShowInput" placeholder="Which show?" style="display: none; margin-left: 10px;">
        <button data-action="remove" class="btn-danger remove-anchor-btn" style="display: none; margin-left:8px; flex:0 0 auto;">Remove</button>
      </div>
      
      <div class="anchor" data-default="true" data-id="journalAboutApp">
        <label><input type="checkbox" id="journalAboutApp"> Journal About App</label>
        <button data-action="remove" class="btn-danger remove-anchor-btn" style="display: none; margin-left:8px; flex:0 0 auto;">Remove</button>
      </div>

      <div class="anchor" data-default="true" data-id="selfCare">
        <label><input type="checkbox" id="selfCare"> Self-care</label>
        <select id="selfCareOption">
          <option value="">--choose--</option>
          <option>Cook</option>
          <option>Clean</option>
          <option>Organize</option>
          <option>Journal</option>
        </select>
        <button data-action="remove" class="btn-danger remove-anchor-btn" style="display: none; margin-left:8px; flex:0 0 auto;">Remove</button>
      </div>

      <div class="progress-indicator" id="progressIndicator">Completed 0/7</div>

      <div class="buttons">
        <button id="saveBtn">Save My Progress</button>
        <button id="resetBtn">Clear Today</button>
        <button id="restoreAnchorsBtn" class="btn-secondary">Restore Removed Anchors</button>
      </div>

      <div id="streakSection">
        <div id="streakIcons"></div>
        <div id="streakMessage"></div>
      </div>  

      <div id="message">🌱 Progress Saved! You're blooming today! 🌞</div>
    </div>

    <!-- Mood Booster Page - Enhanced with Breathing Interactions -->
    <div id="mood-booster" class="page-section">
      <div class="mood-header">
      <h1>Mood Booster</h1>
        <p class="mood-subtitle">Need a gentle nudge? We're here for you</p>
      </div>
      
      <div class="mood-card">
        <p class="mood-desc">Need a pick-me-up or a quick nudge? Tap the button to randomly pick one of your anchors to do now. Tap again for another suggestion.</p>
        <div class="mood-wheel">
          <button id="moodSpinBtn" class="mood-button breathing-button" aria-label="Pick a random anchor">
            <span class="button-text">Boost</span>
            <div class="breathing-ripple"></div>
          </button>
        </div>
        <div class="mood-result" id="moodResult">Try me ✨</div>
        <div class="mood-actions">
          <button id="moodDoItBtn" class="btn-primary" disabled>Mark as Done</button>
          <button id="moodSpinAgainBtn" class="btn-secondary">Spin Again</button>
        </div>
      </div>
    </div>

    <!-- Dream Life Page - Enhanced with Breathing Spaces -->
    <div id="dream-life" class="page-section">
      <div class="dream-header">
      <h1>Your Dream Life Vision</h1>
        <p class="dream-subtitle">Take a moment to breathe and dream</p>
      </div>
      
      <h2>Visualize Your Ideal Life</h2>
      <p class="section-description">
        Take a moment to envision your perfect day, your ideal relationships, career, and lifestyle. 
        Writing down your dreams makes them more tangible and achievable.
      </p>
      
      <div class="dream-categories">
        <h3>💭 Dream Categories</h3>
        <ul class="category-list">
          <li>🏠 Living Situation & Environment</li>
          <li>💼 Career & Purpose</li>
          <li>❤️ Relationships & Social Life</li>
          <li>🌱 Health & Wellness</li>
          <li>✨ Personal Growth & Hobbies</li>
        </ul>
      </div>
    </div>

    <!-- About Page -->
    <div id="about" class="page-section">
      <h1>About Daily Anchors</h1>
      <div class="about-content">
        <h2>Our Mission</h2>
        <p class="section-description">
          Daily Anchors is designed to help you build sustainable self-care habits that anchor you to your best self. 
          We believe that small, consistent actions compound into extraordinary transformations.
        </p>

        <h2>Why Daily Anchors?</h2>
        <p class="section-description">
          In our fast-paced world, it's easy to neglect the fundamental practices that keep us grounded, healthy, and happy. 
          Daily Anchors serves as your gentle reminder and tracking companion, helping you stay connected to what truly matters.
        </p>

        <div class="features-highlight">
          <h3>✨ Key Features</h3>
          <ul class="features-list">
            <li>🎯 Simple, intuitive habit tracking</li>
            <li>📱 Progressive Web App - works offline</li>
            <li>🔄 Sync across all your devices</li>
            <li>📊 Visual progress tracking</li>
            <li>🎉 Celebration of wins, big and small</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Profile Page (with Settings inside) -->
    <div id="profile" class="page-section">
      <h1>Your Profile</h1>
      <div class="profile-card">
        <div class="profile-header">
          <div class="avatar" id="profileAvatar">🌱</div>
          <div class="profile-basic">
            <div class="profile-name" id="profileName">Anonymous User</div>
            <div class="profile-email" id="profileEmail">—</div>
          </div>
        </div>
        <div class="profile-actions">
          <button id="editProfileBtn" class="btn-secondary">Edit Profile</button>
          <button id="signOutBtn" class="btn-danger">Sign Out</button>
        </div>
      </div>

      <h2 style="margin-top: 20px;">Settings</h2>
      <div class="settings-card">
      <div class="settings-section">
          <h3>Appearance</h3>
          <div class="setting-row">
            <label for="themeSelect">Theme</label>
            <select id="themeSelect">
              <option value="system">System</option>
              <option value="light">Light</option>
              <option value="dark">Dark</option>
            </select>
          </div>
        </div>

        <div class="settings-section">
          <h3>Notifications</h3>
          <div class="setting-row">
            <label for="dailyReminder">Daily Reminder</label>
            <input type="time" id="dailyReminder" />
          </div>
        </div>

        <div class="settings-section">
          <h3>Data</h3>
          <div class="setting-row">
            <button id="exportDataBtn" class="btn-secondary">Export Data</button>
            <button id="clearDataBtn" class="btn-danger">Clear Local Data</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Contact Page -->
    <div id="contact" class="page-section">
      <h1>Contact Us</h1>
      <p class="contact-intro">
        We'd love to hear from you! Share your feedback, suggestions, or just say hello.
      </p>

      <div class="contact-form">
        <form id="contactForm">
          <div class="form-group float-field">
            <input type="text" id="name" name="name" placeholder=" " required>
            <label for="name">Name</label>
          </div>
          
          <div class="form-group float-field">
            <input type="email" id="email" name="email" placeholder=" " required>
            <label for="email">Email</label>
          </div>
          
          <div class="form-group float-field">
            <input type="text" id="subject" name="subject" placeholder=" " required>
            <label for="subject">Subject</label>
          </div>
          
          <div class="form-group float-field">
            <textarea id="contactMessage" name="message" placeholder=" " required></textarea>
            <label for="contactMessage">Message</label>
          </div>
          
          <div class="form-submit">
            <button type="submit" class="submit-btn">Send Message</button>
          </div>
        </form>
      </div>

      <div class="contact-info">
        <h3>Other Ways to Connect</h3>
        <p>📧 support@dailyanchors.app</p>
        <p>🌐 Follow us for updates and inspiration</p>
      </div>
    </div>

  </div>

  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  <script src="script.js"></script>
</body>
</html>